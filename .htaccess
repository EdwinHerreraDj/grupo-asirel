RewriteEngine on

# Asegurar que el host coincide con tu dominio
RewriteCond %{HTTP_HOST} ^(www\.)?obras\.grupoasirel\.es$ [NC]

# Evitar redirección infinita si ya está dentro de "public"
RewriteCond %{REQUEST_URI} !^/public/

# Redirigir todo al subdirectorio "public"
RewriteRule ^(.*)$ /public/$1 [L,QSA]

## EXPIRES CACHING ##
<IfModule mod_expires.c>
    ExpiresActive On

    # Desactivar la caché para imágenes, CSS y JS
    ExpiresByType text/css "access plus 0 seconds"
    ExpiresByType application/javascript "access plus 0 seconds"
    ExpiresByType image/png "access plus 0 seconds"
    ExpiresByType image/jpeg "access plus 0 seconds"
    ExpiresByType image/gif "access plus 0 seconds"

    # Desactivar la caché para archivos HTML y PHP
    ExpiresByType text/html "access plus 0 seconds"
</IfModule>
